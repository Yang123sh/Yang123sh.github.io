(function(t){function e(e){for(var s,r,l=e[0],o=e[1],c=e[2],f=0,d=[];f<l.length;f++)r=l[f],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var o=a[l];0!==i[o]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"0518":function(t,e,a){},"0653":function(t,e,a){},"088f":function(t,e,a){},1111:function(t,e,a){"use strict";var s=a("c5fd"),i=a.n(s);i.a},"14b1":function(t,e,a){},"163d":function(t,e,a){},"1b21":function(t,e,a){"use strict";var s=a("14b1"),i=a.n(s);i.a},"224c":function(t,e,a){"use strict";var s=a("e081"),i=a.n(s);i.a},2266:function(t,e,a){},"236d":function(t,e,a){},"275b":function(t,e,a){"use strict";var s=a("e6ab"),i=a.n(s);i.a},"2ed7":function(t,e,a){},"343a":function(t,e,a){"use strict";var s=a("236d"),i=a.n(s);i.a},"4ee2":function(t,e,a){},5015:function(t,e,a){},5189:function(t,e,a){"use strict";var s=a("5015"),i=a.n(s);i.a},"53b0":function(t,e,a){"use strict";var s=a("9f53"),i=a.n(s);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("4160"),a("b64b"),a("159b"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("RouterView")],1)},n=[],r={name:"app"},l=r,o=(a("034f"),a("2877")),c=Object(o["a"])(l,i,n,!1,null,null,null),u=c.exports,f=(a("ac1f"),a("5319"),a("8c4f")),d=a("323e"),p=a.n(d),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("HeaderNav"),a("RouterView")],1)},m=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{shadow:t.isShadow}},[s("div",{staticClass:"box-inside clf"},[s("router-link",{staticClass:"logo fl",attrs:{to:"/"}},[s("img",{attrs:{src:a("9d64"),alt:""}})]),t.isPlayer?s("ul",{staticClass:"header-nav fl clf"},[s("li",{staticClass:"fl"},[s("router-link",{attrs:{exact:"",to:"/"}},[t._v("首页")])],1),s("li",{staticClass:"fl"},[s("router-link",{attrs:{to:"/playlist"}},[t._v("歌单")])],1),s("li",{staticClass:"fl"},[s("router-link",{attrs:{to:"/artist"}},[t._v("歌手")])],1),s("li",{staticClass:"fl"},[s("router-link",{attrs:{to:"/toplist"}},[t._v("排行榜")])],1)]):t._e(),t._m(0)],1)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-right fr clf"},[a("div",{staticClass:"search fl"},[a("input",{attrs:{type:"text",placeholder:"请输入歌名、歌词、歌手或专辑"}}),a("span")]),a("div",{staticClass:"login fl"},[a("span",[t._v("登录")])])])}],b={name:"HeaderNav",props:{isPlayer:{type:Boolean,default:!0},isShadow:{type:Boolean,default:!0}}},y=b,_=(a("eb6a"),Object(o["a"])(y,v,h,!1,null,"e1831cd6",null)),C=_.exports,I={name:"Layout",components:{HeaderNav:C}},S=I,x=Object(o["a"])(S,g,m,!1,null,"11b9e2e0",null),k=x.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("IndexSwiper"),a("div",{staticClass:"box-inside"},[a("ul",{staticClass:"clf box-inside"},[t._l(t.catlist,(function(t){return a("Tag",{key:t.name,staticClass:"index-tag",attrs:{text:t.name,route:{path:"/playlist",query:{cat:t.name}}}})})),a("router-link",{staticClass:"more fr",attrs:{to:"/playlist"}},[t._v("更多")])],2),a("IndexPlaylist"),a("IndexDisk"),a("IndexArtist")],1)],1)},P=[],$=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"box-wrapper"},[s("div",{staticClass:"swipper-wrapper"},[s("div",{staticClass:"swiper-container"},[s("el-carousel",{ref:"swiper",attrs:{"indicator-position":"none",type:"card",height:"278px",interval:5e3}},e._l(e.banners,(function(t){return s("el-carousel-item",{key:t.imageUrl},[s("img",{attrs:{src:t.imageUrl,alt:"",title:""}})])})),1)],1),s("div",{staticClass:"prev arrow",on:{click:function(){t.$refs.swiper.prev()}}},[s("i",{staticClass:"el-icon-back"})]),s("div",{staticClass:"next arrow",on:{click:function(){t.$refs.swiper.next()}}},[s("i",{staticClass:"el-icon-right"})])])])},O=[],j={name:"IndexSwiper",data:function(){return{banners:null}},mounted:function(){var t=this;this.$api.getBanner().then((function(e){t.banners=e.data.banners}))}},E=j,T=(a("d906"),Object(o["a"])(E,$,O,!1,null,"d5feccc4",null)),U=T.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"fl clip",attrs:{title:t.text}},[a("router-link",{attrs:{to:t.route,tag:"span"}},[t._v(t._s(t.text))])],1)},z=[],B={name:"Tag",props:["text","route"]},D=B,H=(a("edeb"),Object(o["a"])(D,N,z,!1,null,"661fdafa",null)),F=H.exports,L=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"playlist-wrapper"},[s("BigTitle",{staticClass:"center",attrs:{title:"热门歌单",route:"/playlist"}}),s("div",{staticClass:"box-wrapper"},[e.playlist?s("el-carousel",{ref:"swiper",attrs:{"indicator-position":"outside",autoplay:!1,trigger:"click"}},e._l(2,(function(t){return s("el-carousel-item",{key:t,staticClass:"clf"},e._l(e.playlist.slice(5*(t-1),5*t),(function(t){return s("PlaylistItem",{key:t.id,staticClass:"fl playlist-item",attrs:{item:t}})})),1)})),1):e._e(),s("div",{staticClass:"prev arrow",on:{click:function(){t.$refs.swiper.prev()}}},[s("i",{staticClass:"el-icon-back"})]),s("div",{staticClass:"next arrow",on:{click:function(){t.$refs.swiper.next()}}},[s("i",{staticClass:"el-icon-right"})])],1)],1)},q=[],V=(a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clf"},[a("h2",{staticClass:"fl"},[t._v(t._s(t.title))]),t.more?a("router-link",{staticClass:"more fr",attrs:{to:t.route}},[t._v("更多")]):t._e()],1)}),M=[],A={name:"BigTitle",props:{title:{type:String,required:!0},more:{type:Boolean,default:!0},route:String}},R=A,J=(a("e8ad"),Object(o["a"])(R,V,M,!1,null,"9c3c456c",null)),G=J.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{staticClass:"playlist-item",attrs:{to:"/playlist/detail/"+t.item.id,tag:"div"}},[a("Poster",{attrs:{scale:"",btn:"","img-src":t.item.coverImgUrl}}),a("div",{staticClass:"name clip"},[t._v(t._s(t.item.name))])],1)},Q=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"poster",class:[t.size?t.size:"normal",t.scale?"poster-image-scale":""]},[t.bg?a("div",{staticClass:"bg",class:t.bgSize?"bg-"+t.bgSize:""}):t._e(),a("div",{staticClass:"poster-image",class:t.circle?"circle":""},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgSrc,expression:"imgSrc"}],key:t.imgSrc,attrs:{alt:""}})]),t.btn?a("router-link",{staticClass:"play-btn",attrs:{to:"playlist",tag:"div"}},[a("i",{staticClass:"iconfont icon-zanting"})]):t._e()],1)},X=[],Y={name:"Poster",props:{scale:{type:Boolean,default:!1},btn:{type:Boolean,default:!1},size:String,bg:{type:Boolean,default:!1},bgSize:{type:String,default:"small"},circle:{type:Boolean,default:!1},imgSrc:String}},Z=Y,tt=(a("757b"),Object(o["a"])(Z,W,X,!1,null,"65efff2a",null)),et=tt.exports,at={name:"PlaylistItem",props:{item:Object},components:{Poster:et}},st=at,it=(a("275b"),Object(o["a"])(st,K,Q,!1,null,"d951cb9e",null)),nt=it.exports,rt={name:"IndexPlaylist",components:{PlaylistItem:nt,BigTitle:G},data:function(){return{playlist:[],limit:5}},beforeCreate:function(){var t=this;this.$api.getHotPlaylist().then((function(e){t.playlist=e.data.playlists.slice(0,10)}))}},lt=rt,ot=(a("5985"),Object(o["a"])(lt,L,q,!1,null,"66eed606",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-inside"},[a("BigTitle",{attrs:{title:"新碟上架",route:"/disk"}}),a("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.disks,(function(t){return a("swiper-slide",{key:t.blurPicUrl},[a("NewdiskItem",{attrs:{"disk-info":t}})],1)})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)},ft=[],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"disk-item clf"},[a("Poster",{staticClass:"fl",attrs:{size:"mini",bg:"","img-src":t.diskInfo.picUrl}}),a("div",{staticClass:"info fl"},[a("div",{staticClass:"disk-name clip"},[t._v(t._s(t.diskInfo.name))]),a("div",{staticClass:"artist clip"},[t._v(t._s(t.diskInfo.artist.name))])])],1)},pt=[],gt={name:"NewdiskItem",components:{Poster:et},props:{diskInfo:Object}},mt=gt,vt=(a("1b21"),Object(o["a"])(mt,dt,pt,!1,null,"437846a5",null)),ht=vt.exports,bt=a("7212"),yt=(a("bbe3"),{name:"IndexDisk",components:{BigTitle:G,NewdiskItem:ht,Swiper:bt["Swiper"],SwiperSlide:bt["SwiperSlide"]},data:function(){return{disks:[],swiperOption:{slidesPerView:3,slidesPerColumn:2,spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}}}},beforeMount:function(){var t=this;this.$api.getNewDisk(12).then((function(e){t.disks=e.data.monthData}))}}),_t=yt,Ct=(a("db20"),Object(o["a"])(_t,ut,ft,!1,null,"28b47c19",null)),It=Ct.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-inside clf"},[a("BigTitle",{attrs:{title:"热门歌手",route:"/artist"}}),t._l(t.singers,(function(t){return a("ArtistItem",{key:t.id,staticClass:"fl",attrs:{singer:t}})}))],2)},xt=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"artist-item"},[a("Poster",{attrs:{scale:"",circle:"",size:"artist","img-src":t.singer.img1v1Url}}),a("div",{staticClass:"info clip"},[t._v(t._s(t.singer.name))])],1)},wt=[],Pt={name:"ArtistItem",components:{Poster:et},props:{singer:Object}},$t=Pt,Ot=(a("934b"),Object(o["a"])($t,kt,wt,!1,null,"c220ca3c",null)),jt=Ot.exports,Et={name:"IndexArtist",components:{ArtistItem:jt,BigTitle:G},data:function(){return{singers:[]}},beforeMount:function(){var t=this;this.$api.getHotSingers(6).then((function(e){t.singers=e.data.artists}))}},Tt=Et,Ut=(a("cf7a"),Object(o["a"])(Tt,St,xt,!1,null,"36d66db0",null)),Nt=Ut.exports,zt={name:"Index",components:{IndexSwiper:U,Tag:F,IndexPlaylist:ct,IndexDisk:It,IndexArtist:Nt},data:function(){return{catlist:null}},mounted:function(){var t=this;this.$api.getHotCatlist().then((function(e){t.catlist=e.data.tags}))}},Bt=zt,Dt=Object(o["a"])(Bt,w,P,!1,null,"3c6848fe",null),Ht=Dt.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-inside"},[a("Category"),a("div",{staticClass:"playlists clf"},t._l(t.playlist,(function(t){return a("PlaylistItem",{key:t.coverImgUrl+t.coverImgId,staticClass:"fl",attrs:{item:t}})})),1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.limit,"pager-count":7,"current-page":t.currentPage,"hide-on-single-page":""},on:{"current-change":t.currentHandle}})],1)},Lt=[],qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cate-box clf"},t._l(t.result,(function(e){return a("div",{key:e.type,staticClass:"group fl",class:0==e.type?"language":""},[a("div",{staticClass:"title"},[t._v(t._s(e.category))]),a("div",{staticClass:"tags"},[t._l(e.tags.slice(0,8),(function(e){return a("Tag",{key:e.name,staticClass:"playlist-tag",class:{active:e.name===t.tagName},attrs:{text:e.name,route:{path:"/playlist",query:{cat:e.name}}}})})),e.tags.length>6?a("div",{staticClass:"more"},[t._m(0,!0),a("div",{staticClass:"hidden-tags clf"},t._l(e.tags.slice(8),(function(e){return a("Tag",{key:e.name,staticClass:"playlist-tag",class:{active:e.name===t.tagName},attrs:{text:e.name,route:{path:"/playlist",query:{cat:e.name}}}})})),1)]):t._e()],2)])})),0)},Vt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"more-tag fl clip"},[a("span",[t._v("更多")]),a("i",{staticClass:"el-icon-arrow-down"})])}],Mt=(a("4c53"),{name:"Category",components:{Tag:F},data:function(){return{result:null,tagName:""}},methods:{filterData:function(t,e){var a=[];for(var s in t)a.push({category:t[s],type:s,tags:[]});for(var i=0;i<e.length;i++)switch(e[i].category){case 0:a[0].tags.push(e[i]);break;case 1:a[1].tags.push(e[i]);break;case 2:a[2].tags.push(e[i]);break;case 3:a[3].tags.push(e[i]);break;case 4:a[4].tags.push(e[i]);break}return a}},mounted:function(){var t=this;this.$api.getPlaylistCatlist().then((function(e){t.result=t.filterData(e.data.categories,e.data.sub)}))},updated:function(){this.tagName=this.$route.query.cat}}),At=Mt,Rt=(a("343a"),Object(o["a"])(At,qt,Vt,!1,null,"1a39b666",null)),Jt=Rt.exports,Gt={name:"Playlist",components:{Category:Jt,PlaylistItem:nt},data:function(){return{playlist:[],limit:30,currentPage:1,total:0}},computed:{offset:function(){return this.limit*(this.currentPage-1)}},watch:{$route:function(t,e){t.query.cat!==e.query.cat&&(this.currentPage=1),this.getPlayList(t.query.cat,this.limit,this.offset)}},methods:{currentHandle:function(t){this.currentPage=t,scrollTo(0,0),this.getPlayList(this.$route.query.cat,this.limit,this.offset)},getPlayList:function(t,e,a){var s=this;this.$api.getHotPlaylist(t,e,a).then((function(t){s.playlist=t.data.playlists,s.total=t.data.total}))}},mounted:function(){this.getPlayList(this.$route.query.cat,this.limit,this.offset)}},Kt=Gt,Qt=(a("1111"),Object(o["a"])(Kt,Ft,Lt,!1,null,"74ffaa94",null)),Wt=Qt.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("歌手")])},Yt=[],Zt={name:"Artist"},te=Zt,ee=Object(o["a"])(te,Xt,Yt,!1,null,"0e5c5e96",null),ae=ee.exports,se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("排行榜")])},ie=[],ne={name:"TopList"},re=ne,le=Object(o["a"])(re,se,ie,!1,null,"bb5e54f4",null),oe=le.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-inside"},[a("div",{staticClass:"box-left fl"},[a("Infobox",{attrs:{title:t.info.name,"img-src":t.info.coverImgUrl,tags:t.info.tags,creator:t.info.creator,"play-count":t.info.playCount,subscribedCount:t.info.subscribedCount}}),a("Songlist",{attrs:{"song-info":t.info.tracks,intro:t.info.description}})],1),a("div",{staticClass:"intro fr"},[a("h3",[t._v("简介")]),a("p",[t._v(t._s(t.info.description||"暂无简介"))])])])},ue=[],fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"songlist"},[t._m(0),t._l(t.songInfo,(function(e,s){return a("li",{key:e.id+e.mark,staticClass:"songlist-item songlist-row clf"},[a("div",{staticClass:"songlist-index fl"},[t._v(t._s(s+1))]),a("div",{staticClass:"songlist-songname fl"},[a("div",{staticClass:"songname-box clf"},[a("a",{staticClass:"songname clip fl",attrs:{href:"#",title:e.name}},[t._v(t._s(e.name))]),a("i",{staticClass:"xx"})]),a("div",{staticClass:"tools"},[a("i",{staticClass:"el-icon-video-play",attrs:{title:"播放"},on:{click:function(a){return t.changeCurrentSongId(e.id)}}})])]),a("div",{staticClass:"songlist-artist clip fl"},t._l(e.ar,(function(i,n){return a("span",{key:i.name+s},[a("a",{attrs:{href:"#",title:i.name}},[t._v(t._s(i.name))]),n+1!==e.ar.length?a("span",[t._v(" / ")]):t._e()])})),0),a("div",{staticClass:"songlist-album clip fl",attrs:{title:e.al.name}},[a("a",{attrs:{href:""}},[t._v(t._s(e.al.name))])]),a("div",{staticClass:"songlist-time fl"},[t._v(t._s(t._f("timeFormat")(e.dt)))])])}))],2)},de=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"songlist-header songlist-row clf"},[a("div",{staticClass:"songlist-index fl"}),a("div",{staticClass:"songlist-songname fl"},[t._v("歌曲")]),a("div",{staticClass:"songlist-artist fl"},[t._v("歌手")]),a("div",{staticClass:"songlist-album fl"},[t._v("专辑")]),a("div",{staticClass:"songlist-time fl"},[t._v("时长")])])}],pe=a("5530"),ge=a("2f62"),me={name:"Songlist",props:["songInfo","intro"],methods:Object(pe["a"])(Object(pe["a"])({},Object(ge["b"])(["getCurrentSongId"])),{},{changeCurrentSongId:function(t){this.$store.dispatch("getCurrentSongId",t);var e=this.$router.resolve({path:"/player"});window.open(e.href,"_blank")}}),beforeRouteLeave:function(){console.log(this.$route.state.currentSongId)}},ve=me,he=(a("53b0"),Object(o["a"])(ve,fe,de,!1,null,"54b0d61b",null)),be=he.exports,ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clf"},[a("Poster",{staticClass:"fl",attrs:{size:"normal","img-src":t.imgSrc}}),a("div",{staticClass:"info fr"},[a("h1",{staticClass:"songlist-title clip",attrs:{title:t.title}},[t._v(t._s(t.title))]),t.creator?a("div",{staticClass:"creator"},[a("i",{staticClass:"el-icon-user"}),a("router-link",{attrs:{to:"#"}},[t._v(t._s(t.creator.nickname))])],1):t._e(),a("div",[t._v("播放量："+t._s(t._f("countFormat")(t.playCount)))]),a("div",[t._v("收藏量："+t._s(t.subscribedCount))]),a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("span",{key:e},[t._v("#"+t._s(e))])})),0),a("div",{staticClass:"btns"},[a("router-link",{attrs:{to:"/player"}},[a("i",{staticClass:"iconfont icon-icon-"}),t._v("播放全部")])],1)])],1)},_e=[],Ce=(a("a9e3"),{name:"Infobox",components:{Poster:et},props:{title:String,tags:Array,imgSrc:String,creator:Object,playCount:Number,subscribedCount:Number}}),Ie=Ce,Se=(a("224c"),Object(o["a"])(Ie,ye,_e,!1,null,"7a596093",null)),xe=Se.exports,ke={name:"PlaylistDetail",data:function(){return{info:[]}},components:{Songlist:be,Infobox:xe},mounted:function(){var t=this;this.$api.getPlaylistDetail(this.$route.params.id).then((function(e){t.info=e.data.playlist}))}},we=ke,Pe=(a("a3fe"),Object(o["a"])(we,ce,ue,!1,null,"89df0a9e",null)),$e=Pe.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("RouterView")},je=[],Ee={name:"PlaylistView"},Te=Ee,Ue=Object(o["a"])(Te,Oe,je,!1,null,"6ac2ca8e",null),Ne=Ue.exports,ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"player-wrapper"},[t.currentSongInfo?a("div",{staticClass:"player-bg",style:"background-image: url("+t.currentSongInfo.al.picUrl+")"}):t._e(),a("div",{staticClass:"bg-mask"}),a("div",{staticClass:"box-inside player-wrap"},[a("HeaderNav",{attrs:{"is-player":!1,"is-shadow":!1}}),a("div",{staticClass:"main-box clf"},[a("SonglistTable",{staticClass:"fl"}),t.currentSongInfo?a("div",{staticClass:"songInfo fr"},[a("img",{attrs:{src:t.currentSongInfo.al.picUrl,alt:""}}),a("p",[t._v("歌曲名："),a("span",[t._v(t._s(t.currentSongInfo.name))])]),a("p",[t._v("歌手名："),t._l(t.currentSongInfo.ar,(function(e){return a("span",{key:e.id},[t._v(t._s(e.name))])}))],2),a("p",[t._v("专辑名："),a("span",[t._v(t._s(t.currentSongInfo.al.name))])]),a("div",{staticClass:"lyric"},t._l(t.lyric,(function(e,s){return a("p",{key:s},[t._v(t._s(e))])})),0)]):t._e()],1),a("PlayerBar",{attrs:{"current-song-url":t.currentSongUrl,"current-song-info":t.currentSongInfo}})],1)])},Be=[],De=(a("466d"),a("1276"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")}),He=[],Fe={name:"SonglistTable",methods:{windowResizeEvent:function(t){window.onresize=function(){var e=this;e.resizeFlag&&clearTimeout(e.resizeFlag),e.resizeFlag=setTimeout((function(){t(),e.resizeFlag=null}),100)}},setTableHeight:function(){this.tableHeight=document.documentElement.clientHeight},clickHandle:function(t,e,a){console.log(a)}},mounted:function(){this.windowResizeEvent(this.setTableHeight)}},Le=Fe,qe=Object(o["a"])(Le,De,He,!1,null,"67af065c",null),Ve=qe.exports,Me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.currentSongInfo?a("div",{staticClass:"player-bar-wrapper clf"},[a("audio",{ref:"audio",attrs:{src:t.currentSongUrl,autoplay:""},on:{canplay:t.initPlayer}}),t._m(0),a("div",{staticClass:"play fl"},[a("i",{class:"el-icon-video-"+t.playIcon,on:{click:t.playSong}})]),t._m(1),a("div",{staticClass:"progress-info fl clf"},[a("div",{staticClass:"info clf"},[a("div",{staticClass:"s-name fl clip",attrs:{title:""}},[t._v(t._s(t.currentSongInfo.name))]),a("div",{staticClass:"s-singer fl clip",attrs:{title:""}},[t._v(" - "),t._l(t.currentSongInfo.ar,(function(e){return a("span",{key:e.id},[t._v(" "+t._s(e.name)+" ")])}))],2),a("div",{staticClass:"time fr"},[t._v(t._s(t._f("timeFormat")(t.cTime))+" / "+t._s(t._f("timeFormat")(t.currentSongInfo.dt)))])]),a("el-slider",{attrs:{"show-tooltip":!1},on:{change:t.changeProgress},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1),a("div",{staticClass:"voice-box fr clf"},[a("i",{staticClass:"iconfont fl",class:"icon-volume-"+t.voiceIcon+"-line",on:{click:t.mutedVoice}}),a("el-slider",{staticClass:"fr",on:{change:t.changeVoice},model:{value:t.voice,callback:function(e){t.voice=e},expression:"voice"}})],1)]):t._e()},Ae=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"prev fl"},[a("i",{staticClass:"el-icon-caret-left"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"next fl"},[a("i",{staticClass:"el-icon-caret-right"})])}],Re={name:"PlayerBar",props:{currentSongUrl:String,currentSongInfo:Object},data:function(){return{playIcon:"pause",isPlay:!0,timerId1:0,timerId2:0,cTime:0,progress:0,voiceIcon:"up",voice:Number(localStorage.getItem("voiceVal"))||30}},methods:{initPlayer:function(){this.$refs.audio.paused&&(this.isPlay=!1,this.playIcon="play"),this.$refs.audio.volume=this.voice/100,this.getCTime(),this.getProgress()},getCTime:function(){var t=this;this.timerId1=setInterval((function(){t.cTime=1e3*t.$refs.audio.currentTime}),1e3)},getProgress:function(){var t=this;this.timerId2=setInterval((function(){t.progress=t.$refs.audio.currentTime/t.$refs.audio.duration*100}),3e3)},playSong:function(){this.$refs.audio.volume=this.voice/100,this.isPlay?(this.isPlay=!1,this.$refs.audio.pause(),this.playIcon="play",clearInterval(this.timerId1),clearInterval(this.timerId2)):(this.isPlay=!0,this.$refs.audio.play(),this.playIcon="pause",this.getCTime(),this.getProgress())},changeProgress:function(t){this.$refs.audio.currentTime=(this.cTime=this.currentSongInfo.dt*t/100)/1e3,this.isPlay||this.$refs.audio.pause(),clearInterval(this.timerId2),this.getProgress()},changeVoice:function(t){0===this.voice?(this.voiceIcon="mute",this.$refs.audio.volume=0):(this.voiceIcon="up",this.$refs.audio.volume=t/100),localStorage.setItem("voiceVal",t)},mutedVoice:function(){"up"===this.voiceIcon?(this.voiceIcon="mute",this.$refs.audio.volume=0,this.$refs.audio.muted=!0):(this.$refs.audio.muted=!1,this.$refs.audio.volume=this.voice/100,this.voiceIcon="up")}},beforeRouteEnter:function(t,e,a){console.log(1),a()}},Je=Re,Ge=(a("5c8a"),Object(o["a"])(Je,Me,Ae,!1,null,"c36397f2",null)),Ke=Ge.exports,Qe={name:"Player",components:{HeaderNav:C,SonglistTable:Ve,PlayerBar:Ke},data:function(){return{currentSongUrl:"",currentSongInfo:null,lyric:null}},computed:Object(pe["a"])({},Object(ge["c"])(["currentSongId"])),methods:{analysisLyric:function(t){for(var e,a,s,i,n,r={},l=t.split("\n"),o=/\[\d*:\d*(\.|:)\d*]/g,c=0;c<l.length;c++)e=l[c].match(o),e&&(a=l[c].replace(e,""),s=Number(e[0].match(/\[\d*/i)[0].slice(1)),i=Number(e[0].match(/\.|:\d*/i)[0].slice(1)),n=60*s+i,r[n]=a);return r}},created:function(){var t=this;this.$api.getSongUrl(this.currentSongId).then((function(e){t.currentSongUrl=e.data.data[0].url})),this.$api.getSongDetail(this.currentSongId).then((function(e){t.currentSongInfo=e.data.songs[0]})),this.$api.getLyric(this.currentSongId).then((function(e){e.data.nolyric||e.data.briefDesc?t.lyric=["暂无歌词"]:t.lyric=t.analysisLyric(e.data.lrc.lyric)}))}},We=Qe,Xe=(a("5189"),Object(o["a"])(We,ze,Be,!1,null,"3df9c9b6",null)),Ye=Xe.exports;s["default"].use(f["a"]);var Ze=[{path:"/",component:k,children:[{path:"",component:Ht},{path:"playlist",component:Ne,children:[{path:"",component:Wt},{path:"detail/:id",component:$e},{path:":cat",component:Wt}]},{path:"artist",component:ae},{path:"toplist",component:oe}]},{path:"/player",component:Ye}],ta=new f["a"]({routes:Ze});ta.beforeEach((function(t,e,a){p.a.start(),console.log(t),t.cat&&t.params.cat.replace("/","//"),a()})),ta.afterEach((function(){p.a.done()}));var ea=ta;s["default"].use(ge["a"]);var aa=new ge["a"].Store({state:{currentSongId:Number(localStorage.getItem("currentSongId"))||0},mutations:{getCurrentSongId:function(t,e){t.currentSongId=e}},actions:{getCurrentSongId:function(t,e){var a=t.commit;localStorage.setItem("currentSongId",e),a("getCurrentSongId",e)}}}),sa=aa,ia=(a("4ee2"),a("be35"),a("d3b7"),a("bc3a")),na=a.n(ia),ra=a("b383"),la=a.n(ra),oa=na.a.create({timeout:3e3}),ca=function(t,e){switch(t){case 400:console.log("Bad Request");break;case 401:console.log("Unauthorized");break;case 403:console.log("Forbidden");break;case 404:console.log("Not Found");break;default:console.log(e);break}};oa.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",oa.interceptors.request.use((function(t){return"post"===t.method&&(t.data=la.a.stringify(t.data)),t}),(function(t){Promise.reject(t)})),oa.interceptors.response.use((function(t){return 200===t.status?Promise.resolve(t):Promise.reject(t)}),(function(t){var e=t.response;if(e)return ca(e.status,e.data),Promise.reject(e);console.log("请求中断")}));var ua=oa,fa={baseUrl:"http://iwenwiki.com:3000",banner:"/banner",playListCatlist:"/playlist/catlist",hotCatlist:"/playlist/hot",hotPlaylist:"/top/playlist",playlistDetail:"/playlist/detail",songUrl:"/song/url",songDetail:"/song/detail",newDisk:"/top/album",hotSinger:"/top/artists",lyric:"/lyric"},da=fa,pa={getBanner:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return ua.get(da.baseUrl+da.banner,{params:{type:t}})},getPlaylistCatlist:function(){return ua.get(da.baseUrl+da.playListCatlist)},getHotCatlist:function(){return ua.get(da.baseUrl+da.hotCatlist)},getHotPlaylist:function(t,e,a){return t||(t="全部"),e||(e=30),a||(a=0),ua.get(da.baseUrl+da.hotPlaylist,{params:{cat:t,limit:e,offset:a}})},getPlaylistDetail:function(t){return ua.get(da.baseUrl+da.playlistDetail,{params:{id:t}})},getSongUrl:function(t){return ua.get(da.baseUrl+da.songUrl,{params:{id:t}})},getSongDetail:function(t){return ua.get(da.baseUrl+da.songDetail,{params:{ids:t}})},getNewDisk:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ua.get(da.baseUrl+da.newDisk,{params:{limit:t,id:e}})},getHotSingers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ua.get(da.baseUrl+da.hotSinger,{params:{limit:t,offset:e}})},getLyric:function(t){return ua.get(da.baseUrl+da.lyric,{params:{id:t}})}},ga=pa,ma=a("caf9"),va=(s["default"].use(ma["a"],{preLoad:1.1}),a("96dc"),a("450d"),a("9cea")),ha=a.n(va),ba=(a("186a"),a("301f")),ya=a.n(ba),_a=(a("672e"),a("101e")),Ca=a.n(_a),Ia=(a("38a0"),a("ad41")),Sa=a.n(Ia),xa=(a("5466"),a("ecdf")),ka=a.n(xa),wa=(a("acb6"),a("c673")),Pa=a.n(wa),$a=(a("aaa5"),a("a578")),Oa=a.n($a),ja=(a("b5c2"),a("20cf")),Ea=a.n(ja),Ta=(a("1951"),a("eedf")),Ua=a.n(Ta);s["default"].use(ha.a).use(ya.a).use(Ca.a).use(Sa.a).use(ka.a).use(Pa.a).use(Oa.a).use(Ea.a).use(Ua.a);a("b680");var Na={timeFormat:function(t){function e(t){return t<10?"0"+t:t}var a=Math.floor(t/1e3/60/60),s=Math.floor(t/1e3/60),i=Math.floor(t/1e3);return 1===a?(s/60===1&&i%60===0?(a="",s="60:"):(a="01:",s=e(s%60)+":"),i=e(i%60)):(a=0===a?"":e(a)+":",s=e(s%60)+":",i=e(i%60)),a+s+i},countFormat:function(t){return(t/1e4).toFixed(1)+"万"},lyricFormat:function(t){for(var e=/\[\d*:\d*(\.|:)\d*]/g,a=t.split("\n"),s=[],i=0;i<a.length;i++)s=a[i].match(e);return s}},za={install:function(t){t.prototype.yourFn=function(){}}};s["default"].prototype.$api=ga,Object.keys(Na).forEach((function(t){s["default"].filter(t,Na[t])})),s["default"].use(za),new s["default"]({router:ea,store:sa,render:function(t){return t(u)}}).$mount("#app")},5985:function(t,e,a){"use strict";var s=a("a14c"),i=a.n(s);i.a},"5c8a":function(t,e,a){"use strict";var s=a("2266"),i=a.n(s);i.a},"699b":function(t,e,a){},"757b":function(t,e,a){"use strict";var s=a("f6fd"),i=a.n(s);i.a},"85ec":function(t,e,a){},"8f07":function(t,e,a){},"934b":function(t,e,a){"use strict";var s=a("0653"),i=a.n(s);i.a},"9d64":function(t,e,a){t.exports=a.p+"assets/img/logo.99e28d09.png"},"9f53":function(t,e,a){},a14c:function(t,e,a){},a3fe:function(t,e,a){"use strict";var s=a("2ed7"),i=a.n(s);i.a},be35:function(t,e,a){},c5fd:function(t,e,a){},cf7a:function(t,e,a){"use strict";var s=a("0518"),i=a.n(s);i.a},d906:function(t,e,a){"use strict";var s=a("088f"),i=a.n(s);i.a},db20:function(t,e,a){"use strict";var s=a("699b"),i=a.n(s);i.a},e081:function(t,e,a){},e6ab:function(t,e,a){},e8ad:function(t,e,a){"use strict";var s=a("8f07"),i=a.n(s);i.a},eb6a:function(t,e,a){"use strict";var s=a("163d"),i=a.n(s);i.a},edeb:function(t,e,a){"use strict";var s=a("f8d2"),i=a.n(s);i.a},f6fd:function(t,e,a){},f8d2:function(t,e,a){}});